#!/bin/bash

launchctl limit maxproc 512

export CCACHE_PREFIX=distcc
export DISTCC_DIR=$HOME/.distcc
export DISTCC_SSH=ssh
export DISTCC_FALLBACK=0
#export DISTCC_VERBOSE=1

CC="distcc /opt/local/bin/x86_64-apple-darwin11-gcc-mp-4.7"
CXX="distcc /opt/local/bin/x86_64-apple-darwin11-g++-mp-4.7"
LD="distcc /opt/local/bin/x86_64-apple-darwin11-gcc-mp-4.7"

#CC="distcc /opt/local/bin/clang-mp-3.1"
#CXX="distcc /opt/local/bin/clang++-mp-3.1"
#LD="distcc /opt/local/bin/clang-mp-3.1"

find-env > /tmp/env
source /tmp/env
rm -f /tmp/env

if [[ $found == true ]]; then
    echo "Remote is named $REMOTE"
fi

make CC="$CC" CXX="$CXX" LD="$LD" $JOBS "$@"

exit 0
