#!/usr/bin/env bash

set -ex

cd ~/org

git addremove
git annex sync --no-push --no-pull

for dir in                                      \
    ~/doc                                       \
    ~/doc/accounts                              \
    ~/src/scripts                               \
    ~/src/nix                                   \
    ~/src/org-data                              \
    ~/.config/pushme/conf.d
do
    (cd $dir; changes || exit 0)
done

cd ~/.emacs.d

load-env-emacs29MacPort make
changes
